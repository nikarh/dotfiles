# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

homeassistant:
  name: Home
  latitude: 56.929638943157094
  longitude: 24.1632990850169
  elevation: 0
  unit_system: metric
  time_zone: "Europe/Riga"
  external_url: "https://hass.home.arhipov.net"
  legacy_templates: false

  auth_providers:
    - type: command_line
      command: /config/auth.sh
      meta: true

http:
  server_host: 0.0.0.0
  server_port: 8080
  login_attempts_threshold: 20
  ip_ban_enabled: true
  use_x_forwarded_for: true
  trusted_proxies:
  - 172.17.0.0/16
  - 172.19.0.0/16

automation: !include automations.yaml
automation secret: !include secret_automations.yaml

script: !include scripts.yaml
scene: !include scenes.yaml
frontend:
  themes: !include_dir_merge_named themes

mqtt:
  broker: home.arhipov.net
  port: 8883
  protocol: 3.1.1
  tls_version: '1.2' 
  username: !secret mqtt_username
  password: !secret mqtt_password
  discovery: true
  discovery_prefix: homeassistant
  certificate: /etc/ssl/certs/mqtt.crt
  
shell_command:
  renew_lg_token: curl 'https://developer.lge.com/secure/ResetDevModeSession.dev?sessionToken={{ token }}'

homekit:
  port: 21064
  name: Home Assistant Bridge
  ip_address: 192.168.1.19
  advertise_ip: 192.168.1.19
  filter:
    include_domains:
      - switch
      - light
      - climate
      - vacuum
      - button
      - humidifier
      - cover

google_assistant:
  project_id: home-assistant-51b12
  service_account: !include service_account.json
  report_state: false
  exposed_domains:
    - switch
    - light
    - climate
    - vacuum
    - button
    - humidifier
    - cover
